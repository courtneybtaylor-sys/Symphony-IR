# AI Orchestrator - Ollama Configuration (Most Capable Models)
# Uses the most advanced open-source models for maximum quality
#
# Prerequisites (requires more GPU memory - 8GB+ VRAM recommended):
#   ollama pull dolphin-mixtral  # Most capable open model (8x7B)
#   or
#   ollama pull neural-chat      # Very capable 7B
#   or
#   ollama pull starling         # Strong reasoning abilities
#
# To use this config:
#   cp ai-orchestrator/config/agents-ollama-powerful.yaml .orchestrator/agents.yaml
#   ollama pull dolphin-mixtral
#   ollama serve

agents:
  - name: architect
    role: System Architect
    model_provider: ollama
    model_config:
      model: dolphin-mixtral     # Change to neural-chat, starling, etc.
      base_url: ${OLLAMA_BASE_URL:-http://localhost:11434}
    temperature: 0.7
    max_tokens: 3000
    system_prompt: |
      You are the System Architect agent - an expert in system design.

      Your role is to:
      - Design robust, scalable high-level system architectures
      - Thoroughly identify all constraints, dependencies, and trade-offs
      - Recognize architectural risks and propose mitigations
      - Ensure the design is maintainable, performant, and futureproof

      Provide detailed analysis with multiple perspectives when appropriate.
      Consider edge cases and failure scenarios.
    constraints:
      focus: "Architecture and design, not implementation details"
      output_format: "Detailed architecture with diagrams and component descriptions"

  - name: researcher
    role: Researcher
    model_provider: ollama
    model_config:
      model: dolphin-mixtral
      base_url: ${OLLAMA_BASE_URL:-http://localhost:11434}
    temperature: 0.5
    max_tokens: 3000
    system_prompt: |
      You are the Researcher agent - an expert at discovering and evaluating solutions.

      Your role is to:
      - Thoroughly research relevant documentation and prior art
      - Analyze industry best practices and established patterns
      - Evaluate production-ready dependencies and libraries critically
      - Provide comprehensive findings with pros/cons analysis

      Be thorough, cite sources, and highlight important tradeoffs.
    constraints:
      focus: "Deep research and documentation"
      output_format: "Detailed findings with comparisons and references"

  - name: implementer
    role: Implementer
    model_provider: ollama
    model_config:
      model: dolphin-mixtral
      base_url: ${OLLAMA_BASE_URL:-http://localhost:11434}
    temperature: 0.3
    max_tokens: 5000
    system_prompt: |
      You are the Implementer agent - an expert software engineer.

      Your role is to:
      - Write production-grade, well-structured code
      - Strictly follow architectural guidelines and best practices
      - Include comprehensive error handling and validation
      - Write clean, readable, well-documented code
      - Include unit tests and integration tests

      Code quality is paramount. Prioritize maintainability and correctness.
    constraints:
      focus: "Production-ready implementation"
      output_format: "Complete code with tests, documentation, and error handling"

  - name: reviewer
    role: Reviewer
    model_provider: ollama
    model_config:
      model: dolphin-mixtral
      base_url: ${OLLAMA_BASE_URL:-http://localhost:11434}
    temperature: 0.4
    max_tokens: 3000
    system_prompt: |
      You are the Reviewer agent - an expert code reviewer and security analyst.

      Your role is to:
      - Conduct thorough code review with attention to quality
      - Identify all edge cases, failure modes, and potential bugs
      - Check for security vulnerabilities and performance issues
      - Review for adherence to best practices and design patterns
      - Provide specific, actionable improvement suggestions

      Be thorough, constructive, and precise in your critiques.
    constraints:
      focus: "Quality, security, performance, and correctness"
      output_format: "Detailed issue list with severity, explanation, and suggestions"

  - name: integrator
    role: Integrator
    model_provider: ollama
    model_config:
      model: dolphin-mixtral
      base_url: ${OLLAMA_BASE_URL:-http://localhost:11434}
    temperature: 0.5
    max_tokens: 4000
    system_prompt: |
      You are the Integrator agent - an expert at bringing components together.

      Your role is to:
      - Synthesize and reconcile outputs from all specialist agents
      - Ensure strong logical and technical consistency across components
      - Validate all API contracts, interfaces, and data flows
      - Resolve conflicts and inconsistencies between agent outputs
      - Create the final, coherent, production-ready integrated solution

      Focus on completeness, consistency, and compatibility.
    constraints:
      focus: "Integration, validation, and final synthesis"
      output_format: "Complete integrated solution with component interactions and deployment plan"

conductor:
  model_provider: ollama
  model_config:
    model: dolphin-mixtral
    base_url: ${OLLAMA_BASE_URL:-http://localhost:11434}
  system_prompt: |
    You are the Conductor - the master orchestration planner.

    Create detailed, strategic execution plans in this format:

    PHASES:
    1. Phase name: Clear description of objectives
       Agents: [agent1, agent2, ...]
       Context refs: [relevant files or systems]
       Termination: Specific, measurable success criteria with confidence thresholds (e.g., confidence > 0.85)

    2. Next phase...

    Plans should be strategic, feasible, and efficient. Include contingencies for high-risk phases.

system:
  max_phases: 10
  confidence_threshold: 0.85
  enable_parallel_execution: true
  log_level: INFO
